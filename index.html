<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureBank - Your Digital Banking Solution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .app-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .app-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .app-header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 500px;
            margin: 0 auto;
        }

        .screen.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95rem;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(52, 152, 219, 0.2);
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
            transform: translateY(-2px);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 30px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover:before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .social-login {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 30px 0;
        }

        .social-btn {
            padding: 16px 20px;
            border: 2px solid transparent;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .social-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .social-btn:hover:before {
            opacity: 1;
        }

        .social-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .social-btn i {
            font-size: 1.2rem;
        }

        .google { 
            border-color: #db4437; 
            color: #db4437;
        }
        
        .google:before {
            background: linear-gradient(135deg, #db4437, #ff6b4a);
        }
        
        .google:hover {
            color: white;
        }

        .apple { 
            border-color: #000; 
            color: #000;
        }
        
        .apple:before {
            background: linear-gradient(135deg, #000, #333);
        }
        
        .apple:hover {
            color: white;
        }

        .facebook { 
            border-color: #1877f2; 
            color: #1877f2;
        }
        
        .facebook:before {
            background: linear-gradient(135deg, #1877f2, #42a5f5);
        }
        
        .facebook:hover {
            color: white;
        }

        .microsoft { 
            border-color: #00a1f1; 
            color: #00a1f1;
        }
        
        .microsoft:before {
            background: linear-gradient(135deg, #00a1f1, #0078d4);
        }
        
        .microsoft:hover {
            color: white;
        }

        .divider {
            text-align: center;
            margin: 35px 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.3), transparent);
        }

        .divider span {
            background: rgba(255, 255, 255, 0.95);
            padding: 0 20px;
            color: #7f8c8d;
            font-weight: 500;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .auth-header h2 {
            color: #2c3e50;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .auth-header p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-bottom: 0;
        }

        .auth-footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(52, 152, 219, 0.2);
        }

        .auth-footer p {
            color: #7f8c8d;
            font-size: 0.95rem;
            margin: 0;
        }

        .auth-footer a {
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }

        .auth-footer a:hover {
            color: #2980b9;
        }

        .auth-footer a:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #3498db;
            transition: width 0.3s ease;
        }

        .auth-footer a:hover:after {
            width: 100%;
        }
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .balance-card {
            grid-column: span 2;
            text-align: center;
        }

        .balance-amount {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: #2c3e50;
            padding: 25px 20px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(52, 152, 219, 0.1);
            font-weight: 600;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .action-btn i {
            font-size: 2rem;
            margin-bottom: 12px;
            display: block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .action-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
            border-color: rgba(52, 152, 219, 0.3);
            background: white;
        }

        .action-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .action-btn:hover:before {
            left: 100%;
        }

        .transaction-history {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .transaction {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e1e1e1;
        }

        .transaction:last-child {
            border-bottom: none;
        }

        .transaction-info h4 {
            margin-bottom: 5px;
        }

        .transaction-date {
            color: #888;
            font-size: 0.9rem;
        }

        .transaction-amount {
            font-weight: bold;
        }

        .amount-positive {
            color: #28a745;
        }

        .amount-negative {
            color: #dc3545;
        }

        .welcome-message {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #888;
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 20px 35px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            padding: 10px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .user-info:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        .user-avatar {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .user-details h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .user-details p {
            margin: 2px 0 0 0;
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .navbar-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .notification-btn, .settings-btn {
            background: rgba(52, 152, 219, 0.1);
            border: 2px solid rgba(52, 152, 219, 0.2);
            color: #3498db;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .notification-btn:hover, .settings-btn:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e74c3c;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .balance-card {
                grid-column: span 1;
            }
            
            .social-login {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .screen {
                padding: 30px 25px;
            }
            
            .auth-header h2 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="app-header">
            <h1>SecureBank</h1>
            <p>Your trusted digital banking partner</p>
        </div>

        <!-- Login Screen -->
        <div id="loginScreen" class="screen active">
            <div class="auth-header">
                <h2>Welcome Back</h2>
                <p>Sign in to your secure banking account</p>
            </div>
            
            <div id="alert" class="alert"></div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>
                
                <button type="submit" class="btn">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
            </form>
            
            <div class="divider">
                <span>Or continue with</span>
            </div>
            
            <div class="social-login">
                <button class="social-btn google" onclick="socialLogin('Google')">
                    <i class="fab fa-google"></i>
                    Google
                </button>
                <button class="social-btn apple" onclick="socialLogin('Apple')">
                    <i class="fab fa-apple"></i>
                    Apple
                </button>
                <button class="social-btn facebook" onclick="socialLogin('Facebook')">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
                <button class="social-btn microsoft" onclick="socialLogin('Microsoft')">
                    <i class="fab fa-microsoft"></i>
                    Microsoft
                </button>
            </div>
            
            <div class="auth-footer">
                <p>Don't have an account? 
                    <a href="#" onclick="showScreen('signupScreen')">Create Account</a>
                </p>
            </div>
        </div>

        <!-- Signup Screen -->
        <div id="signupScreen" class="screen">
            <div class="auth-header">
                <h2>Join SecureBank</h2>
                <p>Create your secure banking account today</p>
            </div>
            
            <div id="signupAlert" class="alert"></div>
            
            <form id="signupForm">
                <div class="form-group">
                    <label for="fullName"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" id="fullName" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="signupEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Phone Number</label>
                    <input type="tel" id="phone" placeholder="Enter your phone number" required>
                </div>
                
                <div class="form-group">
                    <label for="signupPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a strong password" required>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword"><i class="fas fa-lock"></i> Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                </div>
                
                <button type="submit" class="btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </form>
            
            <div class="divider">
                <span>Or sign up with</span>
            </div>
            
            <div class="social-login">
                <button class="social-btn google" onclick="socialSignup('Google')">
                    <i class="fab fa-google"></i>
                    Google
                </button>
                <button class="social-btn apple" onclick="socialSignup('Apple')">
                    <i class="fab fa-apple"></i>
                    Apple
                </button>
                <button class="social-btn facebook" onclick="socialSignup('Facebook')">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
                <button class="social-btn microsoft" onclick="socialSignup('Microsoft')">
                    <i class="fab fa-microsoft"></i>
                    Microsoft
                </button>
            </div>
            
            <div class="auth-footer">
                <p>Already have an account? 
                    <a href="#" onclick="showScreen('loginScreen')">Sign In</a>
                </p>
            </div>
        </div>

        <!-- Welcome Screen for New Users -->
        <div id="welcomeScreen" class="screen">
            <div class="welcome-message">
                <h2>Welcome to SecureBank!</h2>
                <p>Let's set up your account with an initial deposit</p>
            </div>
            
            <h3 style="margin-bottom: 20px; color: #667eea;">Make Your First Deposit</h3>
            
            <form id="initialDepositForm">
                <div class="form-group">
                    <label for="depositAmount">Deposit Amount ($)</label>
                    <input type="number" id="depositAmount" min="10" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="depositMethod">Payment Method</label>
                    <select id="depositMethod" required>
                        <option value="">Select Payment Method</option>
                        <option value="debit">Debit Card</option>
                        <option value="credit">Credit Card</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="paypal">PayPal</option>
                    </select>
                </div>
                
                <div id="cardDetails" style="display: none;">
                    <div class="form-group">
                        <label for="cardNumber">Card Number</label>
                        <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <div class="form-group" style="flex: 1;">
                            <label for="expiryDate">Expiry Date</label>
                            <input type="text" id="expiryDate" placeholder="MM/YY">
                        </div>
                        
                        <div class="form-group" style="flex: 1;">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="123">
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn">Complete Deposit & Continue</button>
            </form>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboardScreen" class="screen">
            <div class="navbar">
                <div class="user-info" onclick="toggleProfile()">
                    <div class="user-avatar" id="userAvatar">
                        <img id="userProfileImage" style="display: none;" />
                        <span id="userInitials">U</span>
                    </div>
                    <div class="user-details">
                        <h3 id="userName">User Name</h3>
                        <p>Account: ****1234</p>
                    </div>
                </div>
                <div class="navbar-actions">
                    <div style="position: relative;">
                        <button class="notification-btn" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationCount">3</span>
                        </button>
                        <div id="notificationDropdown" class="notification-dropdown">
                            <div class="notification-header">
                                <span>Notifications</span>
                                <button onclick="clearNotifications()" style="background: none; border: none; color: #3498db; cursor: pointer;">
                                    <i class="fas fa-check-double"></i>
                                </button>
                            </div>
                            <div id="notificationList">
                                <!-- Notifications will be populated here -->
                            </div>
                        </div>
                    </div>
                    <div style="position: relative;">
                        <button class="settings-btn" onclick="toggleSettings()">
                            <i class="fas fa-cog"></i>
                        </button>
                        <div id="settingsDropdown" class="settings-dropdown">
                            <div class="settings-item" onclick="showProfile()">
                                <i class="fas fa-user"></i>
                                <span>Edit Profile</span>
                            </div>
                            <div class="settings-item" onclick="showChangePassword()">
                                <i class="fas fa-key"></i>
                                <span>Change Password</span>
                            </div>
                            <div class="settings-item" onclick="showSettings()">
                                <i class="fas fa-cog"></i>
                                <span>Account Settings</span>
                            </div>
                            <div class="settings-item" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profileSection" class="profile-section">
                <div class="profile-header">
                    <div class="profile-avatar-large" onclick="triggerFileUpload()">
                        <img id="profileImageLarge" style="display: none;" />
                        <span id="profileInitialsLarge">U</span>
                    </div>
                    <div class="profile-info">
                        <h2 id="profileName">User Name</h2>
                        <p><i class="fas fa-envelope"></i> <span id="profileEmail">user@example.com</span></p>
                        <p><i class="fas fa-phone"></i> <span id="profilePhone">+1234567890</span></p>
                        <p><i class="fas fa-calendar"></i> Member since <span id="memberSince">2025</span></p>
                    </div>
                </div>

                <div class="profile-tabs">
                    <button class="tab-btn active" onclick="showTab('editProfile')">Edit Profile</button>
                    <button class="tab-btn" onclick="showTab('changePassword')">Change Password</button>
                    <button class="tab-btn" onclick="showTab('accountSettings')">Settings</button>
                </div>

                <!-- Edit Profile Tab -->
                <div id="editProfile" class="tab-content active">
                    <form id="editProfileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editFullName"><i class="fas fa-user"></i> Full Name</label>
                                <input type="text" id="editFullName" required>
                            </div>
                            <div class="form-group">
                                <label for="editPhone"><i class="fas fa-phone"></i> Phone</label>
                                <input type="tel" id="editPhone" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="editEmail"><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="editEmail" required>
                        </div>
                        <div class="file-input-wrapper">
                            <i class="fas fa-camera"></i> Change Profile Picture
                            <input type="file" id="profileImageInput" accept="image/*" onchange="handleProfileImageUpload(event)">
                        </div>
                        <button type="submit" class="btn" style="margin-top: 20px;">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                    </form>
                </div>

                <!-- Change Password Tab -->
                <div id="changePassword" class="tab-content">
                    <form id="changePasswordForm">
                        <div class="form-group">
                            <label for="currentPassword"><i class="fas fa-lock"></i> Current Password</label>
                            <input type="password" id="currentPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="newPassword"><i class="fas fa-key"></i> New Password</label>
                            <input type="password" id="newPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmNewPassword"><i class="fas fa-key"></i> Confirm New Password</label>
                            <input type="password" id="confirmNewPassword" required>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-shield-alt"></i> Update Password
                        </button>
                    </form>
                </div>

                <!-- Account Settings Tab -->
                <div id="accountSettings" class="tab-content">
                    <div class="form-group">
                        <label><i class="fas fa-bell"></i> Notification Preferences</label>
                        <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px; font-weight: normal;">
                                <input type="checkbox" id="emailNotifications" checked>
                                Email notifications for transactions
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; font-weight: normal;">
                                <input type="checkbox" id="smsNotifications" checked>
                                SMS notifications for large transactions
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; font-weight: normal;">
                                <input type="checkbox" id="pushNotifications" checked>
                                Push notifications for account activity
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="language"><i class="fas fa-globe"></i> Language</label>
                        <select id="language">
                            <option value="en">English</option>
                            <option value="es">Español</option>
                            <option value="fr">Français</option>
                            <option value="de">Deutsch</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="currency"><i class="fas fa-dollar-sign"></i> Currency</label>
                        <select id="currency">
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                        </select>
                    </div>
                    <button type="button" class="btn" onclick="saveSettings()">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                </div>
            </div>

            <div class="dashboard">
                <div class="card balance-card">
                    <h3><i class="fas fa-wallet"></i> Account Balance</h3>
                    <div class="balance-amount" id="accountBalance">$0.00</div>
                    <p>Available Balance</p>
                </div>
            </div>

            <div class="quick-actions">
                <button class="action-btn" onclick="showModal('depositModal')">
                    <i class="fas fa-plus-circle"></i>
                    Deposit
                </button>
                <button class="action-btn" onclick="showModal('withdrawModal')">
                    <i class="fas fa-minus-circle"></i>
                    Withdraw
                </button>
                <button class="action-btn" onclick="showModal('transferModal')">
                    <i class="fas fa-exchange-alt"></i>
                    Transfer
                </button>
                <button class="action-btn" onclick="showModal('airtimeModal')">
                    <i class="fas fa-mobile-alt"></i>
                    Buy Airtime
                </button>
                <button class="action-btn" onclick="showModal('billsModal')">
                    <i class="fas fa-file-invoice-dollar"></i>
                    Pay Bills
                </button>
                <button class="action-btn" onclick="showTransactionHistory()">
                    <i class="fas fa-history"></i>
                    History
                </button>
            </div>action-btn" onclick="showModal('transferModal')">
                    💸 Transfer
                </button>
                <button class="action-btn" onclick="showModal('airtimeModal')">
                    📱 Buy Airtime
                </button>
                <button class="action-btn" onclick="showModal('billsModal')">
                    📄 Pay Bills
                </button>
                <button class="action-btn" onclick="showTransactionHistory()">
                    📊 History
                </button>
            </div>

            <div id="transactionHistorySection" class="transaction-history" style="display: none;">
                <h3>Transaction History</h3>
                <div id="transactionList">
                    <!-- Transactions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Deposit Modal -->
    <div id="depositModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('depositModal')">&times;</span>
            <h3>Deposit Money</h3>
            <form id="depositForm">
                <div class="form-group">
                    <label for="depositAmountModal">Amount ($)</label>
                    <input type="number" id="depositAmountModal" min="1" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="depositMethodModal">Payment Method</label>
                    <select id="depositMethodModal" required>
                        <option value="">Select Method</option>
                        <option value="debit">Debit Card</option>
                        <option value="credit">Credit Card</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="paypal">PayPal</option>
                    </select>
                </div>
                <button type="submit" class="btn">Deposit</button>
            </form>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('withdrawModal')">&times;</span>
            <h3>Withdraw Money</h3>
            <form id="withdrawForm">
                <div class="form-group">
                    <label for="withdrawAmount">Amount ($)</label>
                    <input type="number" id="withdrawAmount" min="1" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="withdrawMethod">Withdrawal Method</label>
                    <select id="withdrawMethod" required>
                        <option value="">Select Method</option>
                        <option value="atm">ATM Withdrawal</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="check">Check</option>
                    </select>
                </div>
                <button type="submit" class="btn">Withdraw</button>
            </form>
        </div>
    </div>

    <!-- Transfer Modal -->
    <div id="transferModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('transferModal')">&times;</span>
            <h3>Transfer Money</h3>
            <form id="transferForm">
                <div class="form-group">
                    <label for="transferAmount">Amount ($)</label>
                    <input type="number" id="transferAmount" min="1" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="recipientAccount">Recipient Account</label>
                    <input type="text" id="recipientAccount" placeholder="Enter account number or email" required>
                </div>
                <div class="form-group">
                    <label for="transferNote">Note (Optional)</label>
                    <input type="text" id="transferNote" placeholder="What's this for?">
                </div>
                <button type="submit" class="btn">Transfer</button>
            </form>
        </div>
    </div>

    <!-- Airtime Modal -->
    <div id="airtimeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('airtimeModal')">&times;</span>
            <h3>Buy Airtime</h3>
            <form id="airtimeForm">
                <div class="form-group">
                    <label for="airtimePhone">Phone Number</label>
                    <input type="tel" id="airtimePhone" required>
                </div>
                <div class="form-group">
                    <label for="airtimeProvider">Network Provider</label>
                    <select id="airtimeProvider" required>
                        <option value="">Select Provider</option>
                        <option value="verizon">Verizon</option>
                        <option value="att">AT&T</option>
                        <option value="tmobile">T-Mobile</option>
                        <option value="sprint">Sprint</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="airtimeAmount">Amount ($)</label>
                    <select id="airtimeAmount" required>
                        <option value="">Select Amount</option>
                        <option value="10">$10</option>
                        <option value="20">$20</option>
                        <option value="50">$50</option>
                        <option value="100">$100</option>
                    </select>
                </div>
                <button type="submit" class="btn">Buy Airtime</button>
            </form>
        </div>
    </div>

    <!-- Bills Modal -->
    <div id="billsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('billsModal')">&times;</span>
            <h3>Pay Bills</h3>
            <form id="billsForm">
                <div class="form-group">
                    <label for="billType">Bill Type</label>
                    <select id="billType" required>
                        <option value="">Select Bill Type</option>
                        <option value="electricity">Electricity</option>
                        <option value="water">Water</option>
                        <option value="internet">Internet</option>
                        <option value="phone">Phone</option>
                        <option value="cable">Cable TV</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="billAccount">Account Number</label>
                    <input type="text" id="billAccount" required>
                </div>
                <div class="form-group">
                    <label for="billAmount">Amount ($)</label>
                    <input type="number" id="billAmount" min="1" step="0.01" required>
                </div>
                <button type="submit" class="btn">Pay Bill</button>
            </form>
        </div>
    </div>

    <script>
        // Application state
        let currentUser = null;
        let accountBalance = 0;
        let transactions = [];
        let notifications = [
            {
                id: 1,
                title: "Welcome to SecureBank!",
                message: "Your account has been successfully created.",
                time: new Date().toISOString(),
                read: false
            },
            {
                id: 2,
                title: "Security Alert",
                message: "Login from new device detected.",
                time: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
                read: false
            },
            {
                id: 3,
                title: "Transaction Complete",
                message: "Your recent deposit has been processed.",
                time: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
                read: false
            }
        ];

        // Screen management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // Modal management
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Alert functions
        function showAlert(message, type, alertId = 'alert') {
            const alert = document.getElementById(alertId);
            alert.textContent = message;
            alert.className = `alert alert-${type}`;
            alert.style.display = 'block';
            setTimeout(() => {
                alert.style.display = 'none';
            }, 5000);
        }

        // Authentication
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation (in real app, this would be server-side)
            const users = JSON.parse(localStorage.getItem('bankUsers') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                accountBalance = user.balance || 0;
                transactions = user.transactions || [];
                updateDashboard();
                showScreen('dashboardScreen');
                showAlert('Login successful!', 'success');
            } else {
                showAlert('Invalid email or password', 'error');
            }
        });

        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                showAlert('Passwords do not match', 'error', 'signupAlert');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('bankUsers') || '[]');
            if (users.find(u => u.email === email)) {
                showAlert('Email already exists', 'error', 'signupAlert');
                return;
            }
            
            currentUser = {
                id: Date.now().toString(),
                fullName,
                email,
                phone,
                password,
                balance: 0,
                transactions: []
            };
            
            showScreen('welcomeScreen');
            showAlert('Account created! Please make your first deposit.', 'success', 'signupAlert');
        });

        // Initial deposit
        document.getElementById('depositMethod').addEventListener('change', function(e) {
            const cardDetails = document.getElementById('cardDetails');
            if (e.target.value === 'debit' || e.target.value === 'credit') {
                cardDetails.style.display = 'block';
            } else {
                cardDetails.style.display = 'none';
            }
        });

        document.getElementById('initialDepositForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('depositAmount').value);
            const method = document.getElementById('depositMethod').value;
            
            if (amount < 10) {
                showAlert('Minimum deposit amount is $10', 'error');
                return;
            }
            
            // Simulate payment processing
            setTimeout(() => {
                currentUser.balance = amount;
                currentUser.transactions = [{
                    id: Date.now().toString(),
                    type: 'deposit',
                    amount: amount,
                    description: 'Initial deposit',
                    date: new Date().toISOString(),
                    method: method
                }];
                
                // Save user to storage
                const users = JSON.parse(localStorage.getItem('bankUsers') || '[]');
                users.push(currentUser);
                localStorage.setItem('bankUsers', JSON.stringify(users));
                
                accountBalance = currentUser.balance;
                transactions = currentUser.transactions;
                updateDashboard();
                showScreen('dashboardScreen');
                showAlert('Welcome! Your account has been set up successfully.', 'success');
            }, 2000);
        });

        // Social authentication
        function socialLogin(provider) {
            showAlert(`Redirecting to ${provider} login...`, 'success');
            // Simulate social login
            setTimeout(() => {
                currentUser = {
                    id: Date.now().toString(),
                    fullName: `${provider} User`,
                    email: `user@${provider.toLowerCase()}.com`,
                    balance: 1500,
                    transactions: [
                        {
                            id: '1',
                            type: 'deposit',
                            amount: 1500,
                            description: 'Welcome bonus',
                            date: new Date().toISOString()
                        }
                    ]
                };
                accountBalance = currentUser.balance;
                transactions = currentUser.transactions;
                updateDashboard();
                showScreen('dashboardScreen');
            }, 2000);
        }

        function socialSignup(provider) {
            showAlert(`Creating account with ${provider}...`, 'success', 'signupAlert');
            setTimeout(() => {
                showScreen('welcomeScreen');
            }, 2000);
        }

        // Dashboard updates
        function updateDashboard() {
            document.getElementById('userName').textContent = currentUser.fullName;
            document.getElementById('userInitials').textContent = currentUser.fullName.charAt(0).toUpperCase();
            document.getElementById('accountBalance').textContent = `${accountBalance.toFixed(2)}`;
            
            // Update profile section
            document.getElementById('profileName').textContent = currentUser.fullName;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profilePhone').textContent = currentUser.phone || '+1234567890';
            document.getElementById('memberSince').textContent = new Date().getFullYear();
            
            // Update edit form
            document.getElementById('editFullName').value = currentUser.fullName;
            document.getElementById('editEmail').value = currentUser.email;
            document.getElementById('editPhone').value = currentUser.phone || '';
            
            // Update profile initials
            document.getElementById('profileInitialsLarge').textContent = currentUser.fullName.charAt(0).toUpperCase();
            
            // Update notification count
            updateNotificationCount();
        }

        // Profile management functions
        function toggleProfile() {
            const profileSection = document.getElementById('profileSection');
            profileSection.style.display = profileSection.style.display === 'none' ? 'block' : 'none';
        }

        function showProfile() {
            document.getElementById('profileSection').style.display = 'block';
            showTab('editProfile');
            closeDropdowns();
        }

        function showChangePassword() {
            document.getElementById('profileSection').style.display = 'block';
            showTab('changePassword');
            closeDropdowns();
        }

        function showSettings() {
            document.getElementById('profileSection').style.display = 'block';
            showTab('accountSettings');
            closeDropdowns();
        }

        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to corresponding button
            event.target.classList.add('active');
        }

        function triggerFileUpload() {
            document.getElementById('profileImageInput').click();
        }

        function handleProfileImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageUrl = e.target.result;
                    
                    // Update all profile images
                    document.getElementById('userProfileImage').src = imageUrl;
                    document.getElementById('userProfileImage').style.display = 'block';
                    document.getElementById('userInitials').style.display = 'none';
                    
                    document.getElementById('profileImageLarge').src = imageUrl;
                    document.getElementById('profileImageLarge').style.display = 'block';
                    document.getElementById('profileInitialsLarge').style.display = 'none';
                    
                    // Save to user data
                    if (currentUser) {
                        currentUser.profileImage = imageUrl;
                        updateUserInStorage();
                    }
                    
                    showAlert('Profile picture updated successfully!', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        // Notification functions
        function toggleNotifications() {
            const dropdown = document.getElementById('notificationDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            
            if (dropdown.style.display === 'block') {
                updateNotificationList();
                document.getElementById('settingsDropdown').style.display = 'none';
            }
        }

        function toggleSettings() {
            const dropdown = document.getElementById('settingsDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            
            if (dropdown.style.display === 'block') {
                document.getElementById('notificationDropdown').style.display = 'none';
            }
        }

        function closeDropdowns() {
            document.getElementById('notificationDropdown').style.display = 'none';
            document.getElementById('settingsDropdown').style.display = 'none';
        }

        function updateNotificationList() {
            const list = document.getElementById('notificationList');
            list.innerHTML = '';
            
            if (notifications.length === 0) {
                list.innerHTML = '<div class="notification-item"><p style="text-align: center; color: #7f8c8d;">No notifications</p></div>';
                return;
            }
            
            notifications.forEach(notification => {
                const item = document.createElement('div');
                item.className = 'notification-item';
                item.innerHTML = `
                    <div class="notification-content">
                        <h5>${notification.title}</h5>
                        <p>${notification.message}</p>
                        <div class="notification-time">${formatTime(notification.time)}</div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function updateNotificationCount() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notificationCount');
            badge.textContent = unreadCount;
            badge.style.display = unreadCount > 0 ? 'flex' : 'none';
        }

        function clearNotifications() {
            notifications = notifications.map(n => ({ ...n, read: true }));
            updateNotificationCount();
            updateNotificationList();
        }

        function formatTime(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diffMs = now - time;
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffDays = Math.floor(diffHours / 24);
            
            if (diffHours < 1) return 'Just now';
            if (diffHours < 24) return `${diffHours}h ago`;
            if (diffDays < 7) return `${diffDays}d ago`;
            return time.toLocaleDateString();
        }

        // Form submissions for profile management
        document.getElementById('editProfileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            currentUser.fullName = document.getElementById('editFullName').value;
            currentUser.email = document.getElementById('editEmail').value;
            currentUser.phone = document.getElementById('editPhone').value;
            
            updateUserInStorage();
            updateDashboard();
            showAlert('Profile updated successfully!', 'success');
        });

        document.getElementById('changePasswordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            if (currentPassword !== currentUser.password) {
                showAlert('Current password is incorrect', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showAlert('New passwords do not match', 'error');
                return;
            }
            
            if (newPassword.length < 6) {
                showAlert('Password must be at least 6 characters', 'error');
                return;
            }
            
            currentUser.password = newPassword;
            updateUserInStorage();
            showAlert('Password updated successfully!', 'success');
            document.getElementById('changePasswordForm').reset();
        });

        function saveSettings() {
            const emailNotifications = document.getElementById('emailNotifications').checked;
            const smsNotifications = document.getElementById('smsNotifications').checked;
            const pushNotifications = document.getElementById('pushNotifications').checked;
            const language = document.getElementById('language').value;
            const currency = document.getElementById('currency').value;
            
            currentUser.settings = {
                emailNotifications,
                smsNotifications,
                pushNotifications,
                language,
                currency
            };
            
            updateUserInStorage();
            showAlert('Settings saved successfully!', 'success');
        }

        function updateUserInStorage() {
            const users = JSON.parse(localStorage.getItem('bankUsers') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('bankUsers', JSON.stringify(users));
            }
        }

        // Add notification when transactions occur
        function addNotification(title, message) {
            const notification = {
                id: Date.now(),
                title,
                message,
                time: new Date().toISOString(),
                read: false
            };
            notifications.unshift(notification);
            updateNotificationCount();
        }

        // Transaction operations
        document.getElementById('depositForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('depositAmountModal').value);
            const method = document.getElementById('depositMethodModal').value;
            
            processTransaction('deposit', amount, `Deposit via ${method}`);
            closeModal('depositModal');
        });

        document.getElementById('withdrawForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const method = document.getElementById('withdrawMethod').value;
            
            if (amount > accountBalance) {
                showAlert('Insufficient funds', 'error');
                return;
            }
            
            processTransaction('withdraw', -amount, `Withdrawal via ${method}`);
            closeModal('withdrawModal');
        });

        document.getElementById('transferForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('transferAmount').value);
            const recipient = document.getElementById('recipientAccount').value;
            const note = document.getElementById('transferNote').value;
            
            if (amount > accountBalance) {
                showAlert('Insufficient funds', 'error');
                return;
            }
            
            processTransaction('transfer', -amount, `Transfer to ${recipient} - ${note || 'No note'}`);
            closeModal('transferModal');
        });

        document.getElementById('airtimeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const phone = document.getElementById('airtimePhone').value;
            const provider = document.getElementById('airtimeProvider').value;
            const amount = parseFloat(document.getElementById('airtimeAmount').value);
            
            if (amount > accountBalance) {
                showAlert('Insufficient funds', 'error');
                return;
            }
            
            processTransaction('airtime', -amount, `Airtime purchase for ${phone} - ${provider}`);
            closeModal('airtimeModal');
        });

        document.getElementById('billsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const billType = document.getElementById('billType').value;
            const account = document.getElementById('billAccount').value;
            const amount = parseFloat(document.getElementById('billAmount').value);
            
            if (amount > accountBalance) {
                showAlert('Insufficient funds', 'error');
                return;
            }
            
            processTransaction('bill', -amount, `${billType} bill payment - Account: ${account}`);
            closeModal('billsModal');
        });

        // Process transaction
        function processTransaction(type, amount, description) {
            const transaction = {
                id: Date.now().toString(),
                type: type,
                amount: amount,
                description: description,
                date: new Date().toISOString()
            };
            
            accountBalance += amount;
            transactions.unshift(transaction);
            
            // Update user data in storage
            if (currentUser) {
                currentUser.balance = accountBalance;
                currentUser.transactions = transactions;
                
                const users = JSON.parse(localStorage.getItem('bankUsers') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('bankUsers', JSON.stringify(users));
                }
            }
            
            updateDashboard();
            
            let message = '';
            switch(type) {
                case 'deposit':
                    message = `Successfully deposited ${amount.toFixed(2)}`;
                    break;
                case 'withdraw':
                    message = `Successfully withdrew ${Math.abs(amount).toFixed(2)}`;
                    break;
                case 'transfer':
                    message = `Successfully transferred ${Math.abs(amount).toFixed(2)}`;
                    break;
                case 'airtime':
                    message = `Successfully purchased ${Math.abs(amount).toFixed(2)} airtime`;
                    break;
                case 'bill':
                    message = `Successfully paid ${Math.abs(amount).toFixed(2)} bill`;
                    break;
            }
            
            showAlert(message, 'success');
            
            // Clear forms
            document.getElementById('depositForm').reset();
            document.getElementById('withdrawForm').reset();
            document.getElementById('transferForm').reset();
            document.getElementById('airtimeForm').reset();
            document.getElementById('billsForm').reset();
        }

        // Show transaction history
        function showTransactionHistory() {
            const section = document.getElementById('transactionHistorySection');
            const list = document.getElementById('transactionList');
            
            if (section.style.display === 'none' || section.style.display === '') {
                section.style.display = 'block';
                list.innerHTML = '';
                
                if (transactions.length === 0) {
                    list.innerHTML = '<p style="text-align: center; color: #888;">No transactions yet</p>';
                } else {
                    transactions.forEach(transaction => {
                        const transactionElement = document.createElement('div');
                        transactionElement.className = 'transaction';
                        
                        const isPositive = transaction.amount > 0;
                        const amountClass = isPositive ? 'amount-positive' : 'amount-negative';
                        const amountSign = isPositive ? '+' : '';
                        
                        transactionElement.innerHTML = `
                            <div class="transaction-info">
                                <h4>${transaction.description}</h4>
                                <div class="transaction-date">${new Date(transaction.date).toLocaleDateString()} ${new Date(transaction.date).toLocaleTimeString()}</div>
                            </div>
                            <div class="transaction-amount ${amountClass}">
                                ${amountSign}${Math.abs(transaction.amount).toFixed(2)}
                            </div>
                        `;
                        
                        list.appendChild(transactionElement);
                    });
                }
            } else {
                section.style.display = 'none';
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            accountBalance = 0;
            transactions = [];
            showScreen('loginScreen');
            showAlert('Logged out successfully', 'success');
            
            // Clear forms
            document.getElementById('loginForm').reset();
            document.getElementById('signupForm').reset();
        }

        // Close modals and dropdowns when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
            
            // Close dropdowns if clicking outside
            if (!e.target.closest('.notification-btn') && !e.target.closest('.notification-dropdown')) {
                document.getElementById('notificationDropdown').style.display = 'none';
            }
            
            if (!e.target.closest('.settings-btn') && !e.target.closest('.settings-dropdown')) {
                document.getElementById('settingsDropdown').style.display = 'none';
            }
        });

        // Format card number input
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            
            if (formattedValue.length <= 19) {
                e.target.value = formattedValue;
            }
        });

        // Format expiry date input
        document.getElementById('expiryDate').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
        });

        // CVV input validation
        document.getElementById('cvv').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '').substring(0, 3);
        });

        // Demo data initialization
        function initializeDemoData() {
            const demoUsers = [
                {
                    id: 'demo1',
                    fullName: 'John Doe',
                    email: 'john@example.com',
                    password: 'password123',
                    phone: '+1234567890',
                    balance: 2500.75,
                    transactions: [
                        {
                            id: '1',
                            type: 'deposit',
                            amount: 1000,
                            description: 'Initial deposit',
                            date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: '2',
                            type: 'deposit',
                            amount: 1500.75,
                            description: 'Salary deposit',
                            date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: '3',
                            type: 'withdraw',
                            amount: -50,
                            description: 'ATM withdrawal',
                            date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: '4',
                            type: 'bill',
                            amount: -125,
                            description: 'Electricity bill payment',
                            date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ]
                }
            ];
            
            // Only initialize if no users exist
            const existingUsers = JSON.parse(localStorage.getItem('bankUsers') || '[]');
            if (existingUsers.length === 0) {
                localStorage.setItem('bankUsers', JSON.stringify(demoUsers));
            }
        }

        // Initialize demo data on page load
        initializeDemoData();

        // Add some CSS animations for better UX
        document.addEventListener('DOMContentLoaded', function() {
            // Add loading animation for buttons
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function(e) {
                    const submitBtn = form.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Processing...';
                    submitBtn.disabled = true;
                    
                    setTimeout(() => {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }, 2000);
                });
            });
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                // Close any open modal
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>